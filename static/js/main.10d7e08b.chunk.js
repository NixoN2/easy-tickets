(this["webpackJsonpeasy-tickets"]=this["webpackJsonpeasy-tickets"]||[]).push([[0],{11:function(e,t,s){},14:function(e,t,s){"use strict";s.r(t);var n=s(1),c=s.n(n),a=s(6),l=s.n(a),i=(s(11),s(2)),r=s(3),o=s.n(r),u=s(5),d=s(0),j=function(e){var t=Object(n.useState)(""),s=Object(i.a)(t,2),c=s[0],a=s[1],l=Object(n.useState)([]),r=Object(i.a)(l,2),j=r[0],m=r[1],b=function(){var e=Object(u.a)(o.a.mark((function e(t){var s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),(s=new FileReader).onload=function(){var e=Object(u.a)(o.a.mark((function e(t){var s,n,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=t.target.result,n=s.split(";"),c=[],n.forEach((function(e){var t=e.split(" ");""===t[0]&&(t[0]=t[1]),c.push([t[0].match(/\d+/g)[0],t.slice(1).join(" "),!1]),console.log(c)})),m(c);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.readAsText(t.target.files[0],"windows-1251");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(d.jsxs)("div",{children:[Object(d.jsx)("input",{onChange:function(e){a(e.target.value)},id:"listName",className:"mt-2 ml-2 w-64 h-8 rounded-lg",type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0441\u043f\u0438\u0441\u043a\u0430: "}),Object(d.jsx)("input",{className:"mt-2 ml-2",id:"file",onChange:b,type:"file"}),Object(d.jsx)("button",{onClick:function(t){t.preventDefault(),e.setTickets([c,j]),e.setTotal(j.length),localStorage.setItem("lists",JSON.stringify(e.lists?e.lists.concat([[c,j]]):[].concat([[c,j]]))),localStorage.setItem("listNames",JSON.stringify(e.listNames?e.listNames.concat(c):[].concat(c))),e.setLists(e.lists?e.lists.concat([[c,j]]):[].concat([[c,j]])),e.setListNames(e.listNames?e.listNames.concat(c):[].concat(c)),a(""),document.getElementById("listName").value="",document.getElementById("file").value="",m([])},className:"w-24 h-8 bg-purple-400 rounded-xl",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})]})},m=function(e){return Object(d.jsxs)("div",{className:"ml-2",children:[e.done," / ",e.total]})},b=function(e){return Object(d.jsxs)("div",{className:"flex",children:[Object(d.jsxs)("p",{className:"ml-2 mr-3",children:[e.position,":"]}),Object(d.jsx)("p",{children:e.text}),Object(d.jsx)("input",{className:"w-4 h-4 ml-2 mt-1",onChange:function(t){t.target.checked?e.setDone(e.done+1):e.setDone(e.done-1)},type:"checkbox"})]})},f=function(e){return Object(d.jsxs)("div",{className:"w-screen",children:[Object(d.jsx)("button",{onClick:function(t){t.preventDefault();for(var s=e.tickets[0],n=0;n<e.lists.length;++n)e.lists[n][0]===s&&(e.setLists(e.lists.splice(n,1)),localStorage.setItem("lists",JSON.stringify(e.lists)));for(var c=0;c<e.listNames.length;++c)e.listNames[c]===s&&(e.setListNames(e.listNames.splice(c,1)),localStorage.setItem("listNames",JSON.stringify(e.listNames)))},className:"w-32 h-8 bg-purple-400 rounded-xl ml-2 mt-2",children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"}),e.tickets[1]?e.tickets[1].map((function(t){return Object(d.jsx)(b,{position:t[0],text:t[1],check:t[2],done:e.done,setDone:e.setDone})})):null]})},p=function(){var e=JSON.parse(localStorage.getItem("lists")),t=JSON.parse(localStorage.getItem("listNames")),s=Object(n.useState)(null!=e?e:[]),c=Object(i.a)(s,2),a=c[0],l=c[1],r=Object(n.useState)(null!=t?t:[]),o=Object(i.a)(r,2),u=o[0],b=o[1],p=Object(n.useState)([]),h=Object(i.a)(p,2),O=h[0],N=h[1],g=Object(n.useState)(0),x=Object(i.a)(g,2),v=x[0],S=x[1],k=Object(n.useState)(0),w=Object(i.a)(k,2),y=w[0],D=w[1];return Object(d.jsx)("div",{className:"w-screen h-screen bg-blue-200 overflow-y-scroll overflow-x-hidden",children:Object(d.jsxs)("div",{children:[Object(d.jsxs)("select",{defaultValue:"default",onChange:function(e){e.preventDefault();for(var t=0;t<a.length;++t)e.target.value===a[t][0]&&(N(a[t]),S(a[t][1].length),D(0))},className:"mt-2 ml-2",children:[Object(d.jsx)("option",{disabled:!0,value:"default",hidden:!0,children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u044d\u043a\u0437\u0430\u043c\u0435\u043d"}),u?u.map((function(e){return Object(d.jsx)("option",{children:e})})):null]}),Object(d.jsx)(j,{setTickets:N,setTotal:S,lists:a,setLists:l,setListNames:b,listNames:u}),Object(d.jsx)(m,{total:v,done:y}),Object(d.jsx)(f,{lists:a,setLists:l,setTickets:N,listNames:u,setListNames:b,tickets:O,done:y,setDone:D})]})})};l.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(p,{})}),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.10d7e08b.chunk.js.map