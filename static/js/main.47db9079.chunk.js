(this["webpackJsonpeasy-tickets"]=this["webpackJsonpeasy-tickets"]||[]).push([[0],{14:function(t,e,s){},17:function(t,e,s){"use strict";s.r(e);var c=s(1),n=s.n(c),i=s(9),a=s.n(i),l=(s(14),s(2)),r=s(3),o=s(5),u=s.n(o),d=s(8),j=s(0),m=function(t){var e=Object(c.useState)(""),s=Object(l.a)(e,2),n=s[0],i=s[1],a=Object(c.useState)([]),o=Object(l.a)(a,2),m=o[0],f=o[1],b=function(){var t=Object(d.a)(u.a.mark((function t(e){var s;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.preventDefault(),(s=new FileReader).onload=function(){var t=Object(d.a)(u.a.mark((function t(e){var s,c,n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s=e.target.result,c=s.split(";"),n=[],c.forEach((function(t){var e=t.split(" ");""===e[0]&&(e[0]=e[1]),n.push([e[0].match(/\d+/g)[0],e.slice(1).join(" ")])})),f(n);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),s.readAsText(e.target.files[0],"windows-1251");case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(j.jsxs)("div",{children:[Object(j.jsx)("input",{onChange:function(t){i(t.target.value)},id:"listName",className:"mt-2 ml-2 w-64 h-8 rounded-lg",type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0441\u043f\u0438\u0441\u043a\u0430: "}),Object(j.jsx)("input",{className:"mt-2 ml-2",id:"file",onChange:b,type:"file"}),Object(j.jsx)("button",{onClick:function(e){e.preventDefault(),t.setTickets([n,m,Object(r.a)(m.map((function(t){return!1})))]),t.setTotal(m.length),localStorage.setItem("lists",JSON.stringify(t.lists?t.lists.concat([[n,m,Object(r.a)(m.map((function(t){return!1})))]]):[].concat([[n,m,Object(r.a)(m.map((function(t){return!1})))]]))),localStorage.setItem("listNames",JSON.stringify(t.listNames?t.listNames.concat(n):[].concat(n))),t.setLists(t.lists?t.lists.concat([[n,m,Object(r.a)(m.map((function(t){return!1})))]]):[].concat([[n,m,Object(r.a)(m.map((function(t){return!1})))]])),t.setListNames(t.listNames?t.listNames.concat(n):[].concat(n)),i(""),document.getElementById("listName").value="",document.getElementById("file").value="",f([])},className:"w-24 h-8 bg-purple-400 rounded-xl",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})]})},f=function(t){return Object(j.jsxs)("div",{className:"ml-2",children:[t.done," / ",t.total]})},b=function(t){return Object(j.jsxs)("div",{className:"flex",children:[Object(j.jsxs)("p",{className:"ml-2 mr-3",children:[t.position,":"]}),Object(j.jsx)("p",{children:t.text}),Object(j.jsx)("button",{onClick:function(e){e.preventDefault(),t.checked?t.setDone(t.done-1):t.setDone(t.done+1),localStorage.setItem("lists",JSON.stringify(t.lists.filter((function(e){return e[0]!==t.tickets[0]})).concat([[t.tickets[0],t.tickets[1],t.tickets[2].slice(0,t.idx).concat([!t.checked]).concat(t.tickets[2].slice(t.idx+1))]]))),t.setTickets([t.tickets[0],t.tickets[1],t.tickets[2].slice(0,t.idx).concat([!t.checked]).concat(t.tickets[2].slice(t.idx+1))]),t.setLists(t.lists.filter((function(e){return e[0]!==t.tickets[0]})).concat([t.tickets]))},className:"w-5 rounded-sm h-5 mt-1 ml-1 ".concat(t.checked?"bg-blue-500":"bg-white")})]})},O=function(t){return Object(j.jsxs)("div",{className:"w-screen",children:[Object(j.jsx)("button",{onClick:function(e){e.preventDefault();for(var s=t.tickets[0],c=0;c<t.lists.length;++c)t.lists[c][0]===s&&(t.setLists(t.lists.splice(c,1)),localStorage.setItem("lists",JSON.stringify(t.lists)));for(var n=0;n<t.listNames.length;++n)t.listNames[n]===s&&(t.setListNames(t.listNames.splice(n,1)),localStorage.setItem("listNames",JSON.stringify(t.listNames)))},className:"w-32 h-8 bg-purple-400 rounded-xl ml-2 mt-2",children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"}),t.tickets[1]?t.tickets[1].map((function(e,s){return Object(j.jsx)(b,{position:e[0],lists:t.lists,setLists:t.setLists,text:e[1],setTickets:t.setTickets,checked:t.tickets[2][s],idx:s,done:t.done,tickets:t.tickets,setDone:t.setDone})})):null]})},h=function(t){var e=Object(c.useState)(""),s=Object(l.a)(e,2),n=s[0],i=s[1];return Object(j.jsxs)("div",{children:[Object(j.jsx)("button",{onClick:function(e){e.preventDefault(),console.log(t.tickets[1]);var s=Math.floor(Math.random()*t.tickets[1].length),c=t.tickets[1][s][0]+". "+t.tickets[1][s][1];i(c)},className:"w-40 mt-2 ml-2 rounded-xl h-8 bg-purple-400 mr-4",children:"\u0420\u0430\u043d\u0434\u043e\u043c\u043d\u044b\u0439 \u0432\u043e\u043f\u0440\u043e\u0441"}),n||null]})},p=function(){var t=JSON.parse(localStorage.getItem("lists")),e=JSON.parse(localStorage.getItem("listNames")),s=Object(c.useState)(null!=t?t:[]),n=Object(l.a)(s,2),i=n[0],a=n[1],r=Object(c.useState)(null!=e?e:[]),o=Object(l.a)(r,2),u=o[0],d=o[1],b=Object(c.useState)([]),p=Object(l.a)(b,2),k=p[0],x=p[1],g=Object(c.useState)(0),N=Object(l.a)(g,2),v=N[0],S=N[1],w=Object(c.useState)(0),y=Object(l.a)(w,2),D=y[0],L=y[1];return Object(j.jsx)("div",{className:"w-screen h-screen bg-blue-200 overflow-y-scroll overflow-x-hidden",children:Object(j.jsxs)("div",{children:[Object(j.jsxs)("select",{defaultValue:"default",onChange:function(t){t.preventDefault();for(var e=0;e<i.length;++e)t.target.value===i[e][0]&&(x(i[e]),S(i[e][1].length),L(i[e][2].filter((function(t){return!0===t})).length))},className:"mt-2 ml-2",children:[Object(j.jsx)("option",{disabled:!0,value:"default",hidden:!0,children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u044d\u043a\u0437\u0430\u043c\u0435\u043d"}),u?u.map((function(t){return Object(j.jsx)("option",{children:t})})):null]}),Object(j.jsx)(m,{setTickets:x,setTotal:S,lists:i,setLists:a,setListNames:d,listNames:u}),Object(j.jsx)(f,{total:v,done:D}),Object(j.jsx)(h,{tickets:k}),Object(j.jsx)(O,{lists:i,setLists:a,setTickets:x,listNames:u,setListNames:d,tickets:k,done:D,setDone:L})]})})};a.a.render(Object(j.jsx)(n.a.StrictMode,{children:Object(j.jsx)(p,{})}),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.47db9079.chunk.js.map